{% load widget_tweaks %}

{% if field.errors %}
    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label is-upgraded is-invalid">
{% else %}
    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
{% endif %}
{{ field |add_class:"mdl-textfield__input" }}
<label for="{{ field.id_for_label }}"
       class="mdl-textfield__label">{{ name }}</label>
<span class="mdl-textfield__error">{% for error in field.errors %}{{ error }}{% endfor %}</span>
</div>